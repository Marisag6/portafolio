<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Librería del Saber - Compra tu Libro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .book-cover {
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        .book-cover:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <header class="mb-12 text-center">
            <h1 class="text-4xl font-bold text-indigo-800 mb-2">Librería del Saber</h1>
            <p class="text-lg text-gray-600">Tu destino para los mejores títulos literarios</p>
        </header>

        <!-- Main Content - Multi-step Process -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Progress Steps -->
            <div class="flex items-center bg-gray-100 p-4">
                <div class="step flex-1 text-center" id="step1">
                    <div class="w-10 h-10 mx-auto rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold mb-1">1</div>
                    <span class="text-sm font-medium text-indigo-600">Producto</span>
                </div>
                <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                <div class="step flex-1 text-center opacity-50" id="step2">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 text-white flex items-center justify-center font-bold mb-1">2</div>
                    <span class="text-sm font-medium text-gray-500">Envío</span>
                </div>
                <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                <div class="step flex-1 text-center opacity-50" id="step3">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 text-white flex items-center justify-center font-bold mb-1">3</div>
                    <span class="text-sm font-medium text-gray-500">Pago</span>
                </div>
                <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                <div class="step flex-1 text-center opacity-50" id="step4">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 text-white flex items-center justify-center font-bold mb-1">4</div>
                    <span class="text-sm font-medium text-gray-500">Confirmación</span>
                </div>
            </div>

            <!-- Product Section -->
            <div id="productSection" class="p-8 fade-in">
                <div class="flex flex-col md:flex-row gap-8">
                    <!-- Book Image -->
                    <div class="md:w-1/3">
                        <div class="book-cover bg-white p-4 rounded-lg">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7c162e64-7243-48f2-9736-745369527b38.png" alt="Portada del libro: El arte de la programación - libro de tapa dura con diseño moderno en tonos azules y naranjas, mostrando patrones geométricos abstractos" class="w-full h-auto rounded">
                        </div>
                    </div>
                    
                    <!-- Book Details -->
                    <div class="md:w-2/3">
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">El Arte de la Programación</h2>
                        <p class="text-lg text-indigo-600 font-semibold mb-4">$29.99</p>
                        
                        <div class="mb-6">
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded">Tecnología</span>
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded ml-2">Más vendido</span>
                        </div>
                        
                        <p class="text-gray-600 mb-6">Este libro revolucionario te llevará a través de un viaje desde los fundamentos de la programación hasta conceptos avanzados de arquitectura de software. Escrito por expertos en el campo, es perfecto tanto para principiantes como para desarrolladores experimentados.</p>
                        
                        <div class="mb-6">
                            <h3 class="font-semibold text-gray-800 mb-2">Características:</h3>
                            <ul class="list-disc pl-5 text-gray-600">
                                <li>500 páginas de contenido completo</li>
                                <li>Ejercicios prácticos en cada capítulo</li>
                                <li>Acceso a recursos en línea</li>
                                <li>Edición de lujo con tapa dura</li>
                            </ul>
                        </div>
                        
                        <div class="flex items-center mb-8">
                            <div class="flex items-center mr-6">
                                <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="ml-1">4.8 (120 reseñas)</span>
                            </div>
                            <div class="text-green-600 flex items-center">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ml-1">En stock</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-4">
                            <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors" onclick="proceedToShipping()">
                                Comprar ahora
                            </button>
                            <button class="border border-indigo-600 text-indigo-600 font-medium py-3 px-6 rounded-lg hover:bg-indigo-50 transition-colors" onclick="addToCart()">
                                Añadir al carrito
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shipping Form Section -->
            <div id="shippingSection" class="hidden p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Información de Envío</h2>
                
                <form id="shippingForm">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div>
                            <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">Nombre *</label>
                            <input type="text" id="firstName" name="firstName" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Apellido *</label>
                            <input type="text" id="lastName" name="lastName" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
                            <input type="email" id="email" name="email" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                            <input type="tel" id="phone" name="phone"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div class="md:col-span-2">
                            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Dirección *</label>
                            <input type="text" id="address" name="address" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="city" class="block text-sm font-medium text-gray-700 mb-1">Ciudad *</label>
                            <input type="text" id="city" name="city" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="state" class="block text-sm font-medium text-gray-700 mb-1">Estado/Provincia *</label>
                            <input type="text" id="state" name="state" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="zipCode" class="block text-sm font-medium text-gray-700 mb-1">Código Postal *</label>
                            <input type="text" id="zipCode" name="zipCode" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="country" class="block text-sm font-medium text-gray-700 mb-1">País *</label>
                            <select id="country" name="country" required
                                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="">Seleccionar</option>
                                <option value="MX">México</option>
                                <option value="ES">España</option>
                                <option value="AR">Argentina</option>
                                <option value="CO">Colombia</option>
                                <option value="US">Estados Unidos</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="font-semibold text-gray-800 mb-4">Método de envío</h3>
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <input id="shipping-standard" name="shipping" type="radio" value="standard" checked 
                                       class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <label for="shipping-standard" class="ml-3 block text-sm font-medium text-gray-700">
                                    Envío estándar (3-5 días laborables) - $4.99
                                </label>
                            </div>
                            <div class="flex items-center">
                                <input id="shipping-express" name="shipping" type="radio" value="express"
                                       class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <label for="shipping-express" class="ml-3 block text-sm font-medium text-gray-700">
                                    Envío exprés (1-2 días laborables) - $9.99
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-t pt-6">
                        <button type="button" onclick="backToProduct()" class="text-indigo-600 hover:text-indigo-800 font-medium">
                            ← Volver al producto
                        </button>
                        <button type="button" onclick="proceedToPayment()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                            Continuar al pago
                        </button>
                    </div>
                </form>
            </div>

            <!-- Payment Section -->
            <div id="paymentSection" class="hidden p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Método de Pago</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <form id="paymentForm">
                            <div class="space-y-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Método de pago *</label>
                                    <div class="mt-1 space-y-2">
                                        <div class="flex items-center">
                                            <input id="credit-card" name="payment" type="radio" value="credit" checked 
                                                   class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                            <label for="credit-card" class="ml-3 block text-sm font-medium text-gray-700">
                                                Tarjeta de crédito/débito
                                            </label>
                                        </div>
                                        <div class="flex items-center">
                                            <input id="paypal" name="payment" type="radio" value="paypal"
                                                   class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                            <label for="paypal" class="ml-3 block text-sm font-medium text-gray-700">
                                                PayPal
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div id="creditCardFields">
                                    <div>
                                        <label for="cardNumber" class="block text-sm font-medium text-gray-700 mb-1">Número de tarjeta *</label>
                                        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" required
                                               class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mt-4">
                                        <div>
                                            <label for="expDate" class="block text-sm font-medium text-gray-700 mb-1">Expira *</label>
                                            <input type="text" id="expDate" name="expDate" placeholder="MM/AA" required
                                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div>
                                            <label for="cvv" class="block text-sm font-medium text-gray-700 mb-1">CVV *</label>
                                            <input type="text" id="cvv" name="cvv" placeholder="123" required
                                                   class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <label for="cardName" class="block text-sm font-medium text-gray-700 mb-1">Nombre en la tarjeta *</label>
                                        <input type="text" id="cardName" name="cardName" required
                                               class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                </div>

                                <div id="paypalFields" class="hidden">
                                    <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4 text-center">
                                        <p class="text-yellow-800">Serás redirigido a PayPal para completar tu pago después de revisar tu pedido.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between items-center border-t pt-6 mt-6">
                                <button type="button" onclick="backToShipping()" class="text-indigo-600 hover:text-indigo-800 font-medium">
                                    ← Volver a envío
                                </button>
                                <button type="button" onclick="placeOrder()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                                    Completar pedido
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Order Summary -->
                    <div>
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Tu pedido</h3>
                            
                            <div class="flex items-center mb-4 pb-4 border-b">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e8a2f3c7-c5b0-473d-b093-6e7ad853a706.png" alt="Miniatura del libro El Arte de la Programación" class="w-16 h-auto rounded mr-4">
                                <div>
                                    <h4 class="font-medium text-gray-800">El Arte de la Programación</h4>
                                    <p class="text-sm text-gray-600">1 × $29.99</p>
                                </div>
                            </div>
                            
                            <div class="space-y-3 mb-4">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Subtotal</span>
                                    <span class="text-gray-800"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Envío</span>
                                    <span class="text-gray-800" id="shippingCost">$4.99</span>
                                </div>
                            </div>
                            
                            <div class="flex justify-between border-t pt-4">
                                <span class="font-semibold text-gray-800">Total</span>
                                <span class="font-bold text-lg text-indigo-600" id="orderTotal"></span>
                            </div>
                        </div>

                        <div class="bg-green-50 border border-green-200 rounded-lg p-4 mt-4">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-green-700">
                                        Pago seguro y protegido. Tus datos están cifrados.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirmation Section -->
            <div id="confirmationSection" class="hidden p-8">
                <div class="text-center">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                        <svg class="h-6 w-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">¡Pedido completado!</h2>
                    <p class="text-gray-600 mb-6">Gracias por tu compra. Hemos enviado un correo con los detalles de tu pedido.</p>
                    
                    <div class="bg-gray-50 rounded-lg p-6 max-w-lg mx-auto text-left mb-8">
                        <h3 class="font-semibold text-gray-800 mb-4">Resumen del pedido #01234</h3>
                        <div class="flex items-start mb-4 pb-4 border-b">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/12bce340-6897-442e-b15c-1154919801cc.png" alt="Miniatura del libro comprado" class="w-16 h-auto rounded mr-4">
                            <div>
                                <h4 class="font-medium text-gray-800">El Arte de la Programación</h4>
                                <p class="text-sm text-gray-600">1 × $29.99</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="text-gray-500">Método de envío</p>
                                <p class="text-gray-800">Envío estándar</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Método de pago</p>
                                <p class="text-gray-800">Tarjeta de crédito ****4242</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Enviar a</p>
                                <p class="text-gray-800">Juan Pérez<br>Calle Falsa 123<br>Ciudad, 28001</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Total</p>
                                <p class="font-medium text-indigo-600"></p>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="window.location.reload()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                        Volver a la tienda
                    </button>
                </div>
            </div>
        </div>
    </div>
<!-- Carrito de Compras -->
<div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-bold">Tu Carrito</h2>
      <button onclick="toggleCart()" class="text-red-500 hover:text-red-700 font-bold">X</button>
    </div>
    <div id="cartItems" class="space-y-2"></div>
    <div class="mt-4 text-right">
      <p class="font-semibold">Total: <span id="cartTotal">$0.00</span></p>
      <button onclick="clearCart()" class="mt-2 bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300">Vaciar carrito</button>
    </div>
  </div>
</div>
   
    <footer class="bg-gray-100 py-8 mt-12">
        <div class="container mx-auto px-4 text-center text-gray-600 text-sm">
            <p>© 2023 Librería del Saber. Todos los derechos reservados.</p>
            <div class="mt-2 space-x-4">
                <a href="#" class="hover:text-indigo-600">Términos de servicio</a>
                <a href="#" class="hover:text-indigo-600">Política de privacidad</a>
                <a href="#" class="hover:text-indigo-600">Contacto</a>
            </div>
        </div>
    </footer>

 <!--Botón flotante para abrir el carrito -->
<button onclick="toggleCart()" class="fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-full shadow-lg z-40">
  🛒 <span id="cartCount" class="bg-white text-indigo-600 px-2 py-0.5 rounded-full text-sm ml-1">0</span>
</button> 
    <script>
    document.getElementById('shippingSection').classList.add('hidden');
        document.getElementById('paymentSection').classList.add('hidden');
        document.getElementById('confirmationSection').classList.add('hidden');

        // Payment method toggle
        document.querySelectorAll('input[name="payment"]').forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'credit') {
                    document.getElementById('creditCardFields').classList.remove('hidden');
                    document.getElementById('paypalFields').classList.add('hidden');
                } else {
                    document.getElementById('creditCardFields').classList.add('hidden');
                    document.getElementById('paypalFields').classList.remove('hidden');
                }
            });
        });

        // Shipping method price update
        document.querySelectorAll('input[name="shipping"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const shippingCost = this.value === 'standard' ? '$4.99' : '$9.99';
                document.getElementById('shippingCost').textContent = shippingCost;
                
                const subtotal = 29.99;
                const shipping = this.value === 'standard' ? 4.99 : 9.99;
                document.getElementById('orderTotal').textContent = '$' + (subtotal + shipping).toFixed(2);
            });
        });

        // Form validation would go here in a real implementation

        function proceedToShipping() {
            document.getElementById('productSection').classList.add('hidden');
            document.getElementById('shippingSection').classList.remove('hidden');
            
            // Update progress steps
            document.getElementById('step1').classList.remove('opacity-50');
            document.getElementById('step1').querySelector('div').classList.add('bg-indigo-600');
            document.getElementById('step1').querySelector('div').classList.remove('bg-gray-300');
            
            document.getElementById('step2').querySelector('div').classList.add('bg-indigo-600');
            document.getElementById('step2').querySelector('div').classList.remove('bg-gray-300');
            
            // Add fade in animation
            setTimeout(() => {
                document.getElementById('shippingSection').classList.add('fade-in');
            }, 10);
        }

        function backToProduct() {
            document.getElementById('shippingSection').classList.add('hidden');
            document.getElementById('productSection').classList.remove('hidden');
            
            document.getElementById('step2').querySelector('div').classList.remove('bg-indigo-600');
            document.getElementById('step2').querySelector('div').classList.add('bg-gray-300');
        }

        function proceedToPayment() {
            // Validate shipping form here in a real implementation
            document.getElementById('shippingSection').classList.add('hidden');
            document.getElementById('paymentSection').classList.remove('hidden');
            
            // Update progress steps
            document.getElementById('step2').classList.remove('opacity-50');
            document.getElementById('step3').querySelector('div').classList.add('bg-indigo-600');
            document.getElementById('step3').querySelector('div').classList.remove('bg-gray-300');
            
            // Add fade in animation
            setTimeout(() => {
                document.getElementById('paymentSection').classList.add('fade-in');
            }, 10);
        }

        function backToShipping() {
            document.getElementById('paymentSection').classList.add('hidden');
            document.getElementById('shippingSection').classList.remove('hidden');
            
            document.getElementById('step3').querySelector('div').classList.remove('bg-indigo-600');
            document.getElementById('step3').querySelector('div').classList.add('bg-gray-300');
        }

        function placeOrder() {
            // Validate payment form and process order here in a real implementation
            document.getElementById('paymentSection').classList.add('hidden');
            document.getElementById('confirmationSection').classList.remove('hidden');
            
            // Update progress steps
            document.getElementById('step3').classList.remove('opacity-50');
            document.getElementById('step4').querySelector('div').classList.add('bg-indigo-600');
            document.getElementById('step4').querySelector('div').classList.remove('bg-gray-300');
            
            // Add fade in animation
            setTimeout(() => {
                document.getElementById('confirmationSection').classList.add('fade-in');
            }, 10);
        }

        function addToCart() {
            // In a real implementation, this would add the item to a shopping cart
            alert('Libro añadido al carrito');
        }

        window.addToCart = function () {
            const product = { id: 1, name: "El Arte de la Programación", price: 29.99, quantity: 1 };
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            const index = cart.findIndex(item => item.id === product.id);
            if (index !== -1) {
                cart[index].quantity += 1;
            } else {
                cart.push(product);
            }
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartUI();

            const btn = document.querySelector('button[onclick="addToCart()"]');
            if (btn) {
                const originalText = btn.textContent;
                btn.textContent = '¡Añadido!';
                btn.disabled = true;
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }, 1500);
            }
        }

        window.toggleCart = function () {
            document.getElementById('cartModal')?.classList.toggle('hidden');
        }

        window.updateCartUI = function () {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const cartItems = document.getElementById("cartItems");
            const cartCount = document.getElementById("cartCount");
            const cartTotal = document.getElementById("cartTotal");

            if (!cartItems || !cartCount || !cartTotal) return;

            cartItems.innerHTML = "";
            let total = 0;
            let count = 0;

            cart.forEach(item => {
                const itemEl = document.createElement("div");
                itemEl.className = "flex justify-between items-center border-b pb-2";
                itemEl.innerHTML = `
                    <div>
                      <p class="font-medium">${item.name}</p>
                      <p class="text-sm text-gray-500">${item.quantity} × $${item.price.toFixed(2)}</p>
                    </div>
                    <p class="font-semibold">$${(item.price * item.quantity).toFixed(2)}</p>
                `;
                cartItems.appendChild(itemEl);
                total += item.price * item.quantity;
                count += item.quantity;
            });

            cartTotal.textContent = "$" + total.toFixed(2);
            cartCount.textContent = count;
            
            const shippingRadio = document.querySelector('input[name="shipping"]:checked');
            const shipping = shippingRadio && shippingRadio.value === 'express' ? 9.99 : 4.99;
            const shippingCostEl = document.getElementById("shippingCost");
            const orderTotalEl = document.getElementById("orderTotal");
            

            if (shippingCostEl) shippingCostEl.textContent = `$${shipping.toFixed(2)}`;
            if (orderTotalEl) orderTotalEl.textContent = `$${(total + shipping).toFixed(2)}`;
        }

        window.clearCart = function () {
            localStorage.removeItem("cart");
            updateCartUI();
        }

        updateCartUI();
    
</script> 
</body>
</html>

